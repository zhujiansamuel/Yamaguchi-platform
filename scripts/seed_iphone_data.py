import os
import sys
from pathlib import Path
from datetime import date

import django


BASE_DIR = Path(__file__).resolve().parent.parent  # /app
sys.path.insert(0, str(BASE_DIR))

os.environ.setdefault("DJANGO_SETTINGS_MODULE", "config.settings.development")  # 按你实际文件改
django.setup()

from apps.data_aggregation.models import iPhone


IPHONE_DATA = [
    {
        "part_number": "MG674J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 256,
        "color": "ブラック",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649154",
    },
    {
        "part_number": "MG684J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 256,
        "color": "ホワイト",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649161",
    },
    {
        "part_number": "MG694J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 256,
        "color": "ミストブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649178",
    },
    {
        "part_number": "MG6A4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 256,
        "color": "ラベンダー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649185",
    },
    {
        "part_number": "MG6C4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 256,
        "color": "セージ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649192",
    },
    {
        "part_number": "MG6D4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 512,
        "color": "ブラック",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649208",
    },
    {
        "part_number": "MG6E4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 512,
        "color": "ホワイト",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649215",
    },
    {
        "part_number": "MG6F4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 512,
        "color": "ミストブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649222",
    },
    {
        "part_number": "MG6G4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 512,
        "color": "ラベンダー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649239",
    },
    {
        "part_number": "MG6H4J/A",
        "model_name": "iPhone 17",
        "capacity_gb": 512,
        "color": "セージ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649246",
    },
    {
        "part_number": "MG854J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 256,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648294",
    },
    {
        "part_number": "MG864J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 256,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648300",
    },
    {
        "part_number": "MG874J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 256,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648317",
    },
    {
        "part_number": "MG894J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 512,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648324",
    },
    {
        "part_number": "MG8A4J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 512,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648331",
    },
    {
        "part_number": "MG8C4J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 512,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648348",
    },
    {
        "part_number": "MG8D4J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 1024,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648355",
    },
    {
        "part_number": "MG8E4J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 1024,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648362",
    },
    {
        "part_number": "MG8F4J/A",
        "model_name": "iPhone 17 Pro",
        "capacity_gb": 1024,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995648379",
    },
    {
        "part_number": "MFY84J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 256,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649284",
    },
    {
        "part_number": "MFY94J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 256,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649291",
    },
    {
        "part_number": "MFYA4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 256,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649307",
    },
    {
        "part_number": "MFYC4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 512,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649314",
    },
    {
        "part_number": "MFYD4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 512,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649321",
    },
    {
        "part_number": "MFYE4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 512,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649338",
    },
    {
        "part_number": "MFYF4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 1024,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649345",
    },
    {
        "part_number": "MFYG4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 1024,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649352",
    },
    {
        "part_number": "MFYH4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 1024,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649369",
    },
    {
        "part_number": "MFYJ4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 2048,
        "color": "シルバー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649376",
    },
    {
        "part_number": "MFYK4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 2048,
        "color": "コズミックオレンジ",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649383",
    },
    {
        "part_number": "MFYL4J/A",
        "model_name": "iPhone 17 Pro Max",
        "capacity_gb": 2048,
        "color": "ディープブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995649390",
    },
    {
        "part_number": "MG274J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 256,
        "color": "スペースブラック",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647501",
    },
    {
        "part_number": "MG284J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 256,
        "color": "クラウドホワイト",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647518",
    },
    {
        "part_number": "MG294J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 256,
        "color": "ライトゴールド",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647525",
    },
    {
        "part_number": "MG2A4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 256,
        "color": "スカイブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647532",
    },
    {
        "part_number": "MG2C4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 512,
        "color": "スペースブラック",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647549",
    },
    {
        "part_number": "MG2D4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 512,
        "color": "クラウドホワイト",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647556",
    },
    {
        "part_number": "MG2E4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 512,
        "color": "ライトゴールド",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647563",
    },
    {
        "part_number": "MG2F4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 512,
        "color": "スカイブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647570",
    },
    {
        "part_number": "MG2G4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 1024,
        "color": "スペースブラック",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647587",
    },
    {
        "part_number": "MG2H4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 1024,
        "color": "クラウドホワイト",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647594",
    },
    {
        "part_number": "MG2J4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 1024,
        "color": "ライトゴールド",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647600",
    },
    {
        "part_number": "MG2K4J/A",
        "model_name": "iPhone Air",
        "capacity_gb": 1024,
        "color": "スカイブルー",
        "release_date": date.fromisoformat("2025-09-19"),
        "jan": "4549995647617",
    },
]


def main() -> None:
    for payload in IPHONE_DATA:
        iPhone.objects.update_or_create(
            part_number=payload["part_number"],
            defaults=payload,
        )


if __name__ == "__main__":
    main()
