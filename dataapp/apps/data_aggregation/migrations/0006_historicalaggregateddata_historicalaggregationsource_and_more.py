# Generated by Django 5.2 on 2026-01-05 06:39

import apps.data_aggregation.models
import django.core.validators
import django.db.models.deletion
import django.utils.timezone
import simple_history.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("data_aggregation", "0005_add_batch_encoding_field"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="HistoricalAggregatedData",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                ("data", models.JSONField(verbose_name="Aggregated Data")),
                (
                    "metadata",
                    models.JSONField(blank=True, default=dict, verbose_name="Metadata"),
                ),
                (
                    "aggregated_at",
                    models.DateTimeField(default=django.utils.timezone.now),
                ),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Aggregated Data",
                "verbose_name_plural": "historical Aggregated Data",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalAggregationSource",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        db_index=True, max_length=255, verbose_name="Source Name"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("inactive", "Inactive"),
                            ("error", "Error"),
                        ],
                        default="active",
                        max_length=20,
                    ),
                ),
                (
                    "config",
                    models.JSONField(
                        blank=True, default=dict, verbose_name="Configuration"
                    ),
                ),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("updated_at", models.DateTimeField(blank=True, editable=False)),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Aggregation Source",
                "verbose_name_plural": "historical Aggregation Sources",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalAggregationTask",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "task_id",
                    models.CharField(
                        db_index=True, max_length=255, verbose_name="Celery Task ID"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("running", "Running"),
                            ("completed", "Completed"),
                            ("failed", "Failed"),
                        ],
                        default="pending",
                        max_length=20,
                    ),
                ),
                (
                    "result",
                    models.JSONField(blank=True, null=True, verbose_name="Task Result"),
                ),
                (
                    "error_message",
                    models.TextField(blank=True, verbose_name="Error Message"),
                ),
                ("started_at", models.DateTimeField(blank=True, null=True)),
                ("completed_at", models.DateTimeField(blank=True, null=True)),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Aggregation Task",
                "verbose_name_plural": "historical Aggregation Tasks",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalCreditCard",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "card_number",
                    models.CharField(
                        db_index=True,
                        help_text="Credit card number (unique identifier)",
                        max_length=19,
                        verbose_name="卡号",
                    ),
                ),
                (
                    "alternative_name",
                    models.CharField(
                        blank=True,
                        help_text="Human-friendly alternative name for easy management",
                        max_length=100,
                        verbose_name="别名",
                    ),
                ),
                (
                    "expiry_month",
                    models.IntegerField(
                        help_text="Card expiry month (1-12)",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="有效期月份",
                    ),
                ),
                (
                    "expiry_year",
                    models.IntegerField(
                        help_text="Card expiry year (e.g., 2025)",
                        validators=[django.core.validators.MinValueValidator(2000)],
                        verbose_name="有效期年份",
                    ),
                ),
                (
                    "passkey",
                    models.CharField(
                        help_text="Passkey for credit card authentication",
                        max_length=128,
                        verbose_name="Passkey",
                    ),
                ),
                (
                    "last_balance_update",
                    models.DateTimeField(
                        blank=True,
                        help_text="Last time the balance was updated",
                        null=True,
                        verbose_name="最近更新余额时间",
                    ),
                ),
                (
                    "credit_limit",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Credit card limit amount",
                        max_digits=12,
                        verbose_name="额度",
                    ),
                ),
                (
                    "batch_encoding",
                    models.CharField(
                        blank=True,
                        help_text="Batch encoding for grouping related records",
                        max_length=100,
                        verbose_name="批次编号",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Credit Card",
                "verbose_name_plural": "historical Credit Cards",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalCreditCardPayment",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "payment_amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Amount paid with this credit card",
                        max_digits=12,
                        verbose_name="支付金额",
                    ),
                ),
                (
                    "payment_time",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Time when the payment was made",
                        verbose_name="支付时间",
                    ),
                ),
                (
                    "payment_status",
                    models.CharField(
                        choices=[
                            ("pending", "待处理"),
                            ("completed", "已完成"),
                            ("failed", "失败"),
                            ("refunded", "已退款"),
                        ],
                        default="pending",
                        help_text="Status of the payment",
                        max_length=20,
                        verbose_name="支付状态",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Credit Card Payment",
                "verbose_name_plural": "historical Credit Card Payments",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalData",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "model",
                    models.CharField(
                        help_text="Name of the model being tracked",
                        max_length=100,
                        verbose_name="Model Name",
                    ),
                ),
                (
                    "slug",
                    models.CharField(
                        help_text="Condition identifier, written by the creating task using agreed conventions",
                        max_length=255,
                        verbose_name="Condition Slug",
                    ),
                ),
                (
                    "value",
                    models.IntegerField(
                        help_text="Count of instances matching the condition",
                        verbose_name="Value",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        auto_now_add=True,
                        help_text="Record creation time (auto-generated)",
                        verbose_name="Created At",
                    ),
                ),
            ],
            options={
                "verbose_name": "Historical Data",
                "verbose_name_plural": "Historical Data",
                "db_table": "historical_data",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="HistoricalDebitCard",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "card_number",
                    models.CharField(
                        db_index=True,
                        help_text="Debit card number (unique identifier)",
                        max_length=19,
                        verbose_name="卡号",
                    ),
                ),
                (
                    "alternative_name",
                    models.CharField(
                        blank=True,
                        help_text="Human-friendly alternative name for easy management",
                        max_length=100,
                        verbose_name="别名",
                    ),
                ),
                (
                    "expiry_month",
                    models.IntegerField(
                        help_text="Card expiry month (1-12)",
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="有效期月份",
                    ),
                ),
                (
                    "expiry_year",
                    models.IntegerField(
                        help_text="Card expiry year (e.g., 2025)",
                        validators=[django.core.validators.MinValueValidator(2000)],
                        verbose_name="有效期年份",
                    ),
                ),
                (
                    "passkey",
                    models.CharField(
                        help_text="Passkey for debit card authentication",
                        max_length=128,
                        verbose_name="Passkey",
                    ),
                ),
                (
                    "last_balance_update",
                    models.DateTimeField(
                        blank=True,
                        help_text="Last time the balance was updated",
                        null=True,
                        verbose_name="最近更新余额时间",
                    ),
                ),
                (
                    "balance",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        help_text="Debit card balance amount",
                        max_digits=12,
                        verbose_name="余额",
                    ),
                ),
                (
                    "batch_encoding",
                    models.CharField(
                        blank=True,
                        help_text="Batch encoding for grouping related records",
                        max_length=100,
                        verbose_name="批次编号",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Debit Card",
                "verbose_name_plural": "historical Debit Cards",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalDebitCardPayment",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "payment_amount",
                    models.DecimalField(
                        decimal_places=2,
                        help_text="Amount paid with this debit card",
                        max_digits=12,
                        verbose_name="支付金额",
                    ),
                ),
                (
                    "payment_time",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Time when the payment was made",
                        verbose_name="支付时间",
                    ),
                ),
                (
                    "payment_status",
                    models.CharField(
                        choices=[
                            ("pending", "待处理"),
                            ("completed", "已完成"),
                            ("failed", "失败"),
                            ("refunded", "已退款"),
                        ],
                        default="pending",
                        help_text="Status of the payment",
                        max_length=20,
                        verbose_name="支付状态",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Debit Card Payment",
                "verbose_name_plural": "historical Debit Card Payments",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalEcSite",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                ("reservation_number", models.CharField(db_index=True, max_length=50)),
                ("username", models.CharField(max_length=50)),
                ("method", models.CharField(max_length=50)),
                ("reservation_time", models.DateTimeField(blank=True, null=True)),
                ("visit_time", models.DateTimeField(blank=True, null=True)),
                ("order_created_at", models.DateTimeField(blank=True, editable=False)),
                ("info_updated_at", models.DateTimeField(blank=True, editable=False)),
                ("order_detail_url", models.CharField(max_length=255)),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("updated_at", models.DateTimeField(blank=True, editable=False)),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical EC Site",
                "verbose_name_plural": "historical EC Sites",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalGiftCard",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "card_number",
                    models.CharField(
                        db_index=True,
                        help_text="Gift card number (unique identifier)",
                        max_length=50,
                        verbose_name="卡号",
                    ),
                ),
                (
                    "alternative_name",
                    models.CharField(
                        blank=True,
                        help_text="Human-friendly alternative name for easy management",
                        max_length=100,
                        verbose_name="别名",
                    ),
                ),
                (
                    "passkey1",
                    models.CharField(
                        help_text="First passkey for gift card authentication",
                        max_length=50,
                        verbose_name="Passkey 1",
                    ),
                ),
                (
                    "passkey2",
                    models.CharField(
                        help_text="Second passkey for gift card authentication",
                        max_length=50,
                        verbose_name="Passkey 2",
                    ),
                ),
                (
                    "balance",
                    models.IntegerField(
                        help_text="Gift card balance amount", verbose_name="余额"
                    ),
                ),
                (
                    "batch_encoding",
                    models.CharField(
                        blank=True,
                        help_text="Batch encoding for grouping related records",
                        max_length=100,
                        verbose_name="批次编号",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Gift Card",
                "verbose_name_plural": "historical Gift Cards",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalGiftCardPayment",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "payment_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Amount paid with this gift card",
                        max_digits=12,
                        null=True,
                        verbose_name="支付金额",
                    ),
                ),
                (
                    "payment_time",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Time when the payment was made",
                        verbose_name="支付时间",
                    ),
                ),
                (
                    "payment_status",
                    models.CharField(
                        choices=[
                            ("pending", "待处理"),
                            ("completed", "已完成"),
                            ("failed", "失败"),
                            ("refunded", "已退款"),
                        ],
                        default="pending",
                        help_text="Status of the payment",
                        max_length=20,
                        verbose_name="支付状态",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Gift Card Payment",
                "verbose_name_plural": "historical Gift Card Payments",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalHistoricalData",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "model",
                    models.CharField(
                        help_text="Name of the model being tracked",
                        max_length=100,
                        verbose_name="Model Name",
                    ),
                ),
                (
                    "slug",
                    models.CharField(
                        help_text="Condition identifier, written by the creating task using agreed conventions",
                        max_length=255,
                        verbose_name="Condition Slug",
                    ),
                ),
                (
                    "value",
                    models.IntegerField(
                        help_text="Count of instances matching the condition",
                        verbose_name="Value",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time (auto-generated)",
                        verbose_name="Created At",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Historical Data",
                "verbose_name_plural": "historical Historical Data",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalInventory",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "uuid",
                    models.CharField(
                        db_index=True,
                        default=apps.data_aggregation.models.generate_uuid,
                        help_text="48-character globally unique identifier",
                        max_length=59,
                        verbose_name="UUID",
                    ),
                ),
                (
                    "flag",
                    models.CharField(
                        blank=True,
                        help_text="Human-readable identifier (rules to be implemented)",
                        max_length=100,
                        verbose_name="Flag",
                    ),
                ),
                (
                    "transaction_confirmed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Time when transaction was confirmed",
                        null=True,
                        verbose_name="Transaction Confirmed At",
                    ),
                ),
                (
                    "scheduled_arrival_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Scheduled arrival time",
                        null=True,
                        verbose_name="Scheduled Arrival At",
                    ),
                ),
                (
                    "checked_arrival_at_1",
                    models.DateTimeField(
                        blank=True,
                        help_text="First checked arrival time",
                        null=True,
                        verbose_name="Checked Arrival Time 1",
                    ),
                ),
                (
                    "checked_arrival_at_2",
                    models.DateTimeField(
                        blank=True,
                        help_text="Second checked arrival time",
                        null=True,
                        verbose_name="Checked Arrival Time 2",
                    ),
                ),
                (
                    "actual_arrival_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual arrival time",
                        null=True,
                        verbose_name="Actual Arrival At",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("planned", "计划中"),
                            ("in_transit", "到达中"),
                            ("arrived", "到达"),
                            ("out_of_stock", "出库"),
                            ("abnormal", "异常"),
                        ],
                        default="planned",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Inventory",
                "verbose_name_plural": "historical Inventory",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricaliPad",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "part_number",
                    models.CharField(
                        db_index=True,
                        help_text="Unique part number (e.g., MG674J/A)",
                        max_length=50,
                        verbose_name="Part Number",
                    ),
                ),
                (
                    "model_name",
                    models.CharField(
                        help_text="Product model name",
                        max_length=100,
                        verbose_name="Model Name",
                    ),
                ),
                (
                    "color",
                    models.CharField(
                        help_text="Device color", max_length=50, verbose_name="Color"
                    ),
                ),
                (
                    "release_date",
                    models.DateField(
                        help_text="Official release date", verbose_name="Release Date"
                    ),
                ),
                (
                    "jan",
                    models.CharField(
                        db_index=True,
                        help_text="Japanese Article Number (13 digits)",
                        max_length=13,
                        verbose_name="JAN Code",
                    ),
                ),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("updated_at", models.DateTimeField(blank=True, editable=False)),
                (
                    "capacity_gb",
                    models.IntegerField(
                        help_text="Storage capacity in GB", verbose_name="Capacity (GB)"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical iPad",
                "verbose_name_plural": "historical iPads",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricaliPhone",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "part_number",
                    models.CharField(
                        db_index=True,
                        help_text="Unique part number (e.g., MG674J/A)",
                        max_length=50,
                        verbose_name="Part Number",
                    ),
                ),
                (
                    "model_name",
                    models.CharField(
                        help_text="Product model name",
                        max_length=100,
                        verbose_name="Model Name",
                    ),
                ),
                (
                    "color",
                    models.CharField(
                        help_text="Device color", max_length=50, verbose_name="Color"
                    ),
                ),
                (
                    "release_date",
                    models.DateField(
                        help_text="Official release date", verbose_name="Release Date"
                    ),
                ),
                (
                    "jan",
                    models.CharField(
                        db_index=True,
                        help_text="Japanese Article Number (13 digits)",
                        max_length=13,
                        verbose_name="JAN Code",
                    ),
                ),
                ("created_at", models.DateTimeField(blank=True, editable=False)),
                ("updated_at", models.DateTimeField(blank=True, editable=False)),
                (
                    "capacity_gb",
                    models.IntegerField(
                        help_text="Storage capacity in GB", verbose_name="Capacity (GB)"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical iPhone",
                "verbose_name_plural": "historical iPhones",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalLegalPersonOffline",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "uuid",
                    models.CharField(
                        db_index=True,
                        default=apps.data_aggregation.models.generate_uuid,
                        help_text="48-character globally unique identifier",
                        max_length=59,
                        verbose_name="UUID",
                    ),
                ),
                (
                    "username",
                    models.CharField(
                        help_text="Customer username",
                        max_length=50,
                        verbose_name="Username",
                    ),
                ),
                (
                    "appointment_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Scheduled appointment time at store",
                        null=True,
                        verbose_name="Appointment Time",
                    ),
                ),
                (
                    "visit_time",
                    models.DateTimeField(
                        blank=True,
                        help_text="Actual visit time to store",
                        null=True,
                        verbose_name="Visit Time",
                    ),
                ),
                (
                    "order_created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Order creation time",
                        verbose_name="Order Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Last update time",
                        verbose_name="Updated At",
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Legal Person Offline",
                "verbose_name_plural": "historical Legal Person Offline",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalOfficialAccount",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "uuid",
                    models.CharField(
                        db_index=True,
                        default=apps.data_aggregation.models.generate_uuid,
                        help_text="48-character globally unique identifier",
                        max_length=59,
                        verbose_name="UUID",
                    ),
                ),
                (
                    "account_id",
                    models.CharField(
                        help_text="Account ID (may not be unique)",
                        max_length=50,
                        verbose_name="账号ID",
                    ),
                ),
                (
                    "email",
                    models.CharField(
                        db_index=True,
                        help_text="Email address (must be unique)",
                        max_length=50,
                        verbose_name="邮箱",
                    ),
                ),
                (
                    "name",
                    models.CharField(
                        help_text="Account holder name",
                        max_length=50,
                        verbose_name="姓名",
                    ),
                ),
                (
                    "postal_code",
                    models.CharField(
                        blank=True,
                        help_text="Postal code",
                        max_length=50,
                        verbose_name="邮编",
                    ),
                ),
                (
                    "address_line_1",
                    models.CharField(
                        blank=True,
                        help_text="Address line 1",
                        max_length=50,
                        verbose_name="地址1",
                    ),
                ),
                (
                    "address_line_2",
                    models.CharField(
                        blank=True,
                        help_text="Address line 2",
                        max_length=50,
                        verbose_name="地址2",
                    ),
                ),
                (
                    "address_line_3",
                    models.CharField(
                        blank=True,
                        help_text="Address line 3",
                        max_length=50,
                        verbose_name="地址3",
                    ),
                ),
                (
                    "passkey",
                    models.CharField(
                        help_text="Account passkey",
                        max_length=50,
                        verbose_name="Passkey",
                    ),
                ),
                (
                    "batch_encoding",
                    models.CharField(
                        blank=True,
                        help_text="Batch encoding for grouping related records",
                        max_length=100,
                        verbose_name="批次编号",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Official Account",
                "verbose_name_plural": "historical Official Accounts",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalOtherPayment",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "payment_info",
                    models.TextField(
                        help_text="Payment information including method and card details",
                        verbose_name="支付信息",
                    ),
                ),
                (
                    "payment_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Payment amount",
                        max_digits=12,
                        null=True,
                        verbose_name="支付金额",
                    ),
                ),
                (
                    "payment_time",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Time when the payment was made",
                        verbose_name="支付时间",
                    ),
                ),
                (
                    "payment_status",
                    models.CharField(
                        choices=[
                            ("pending", "待处理"),
                            ("completed", "已完成"),
                            ("failed", "失败"),
                            ("refunded", "已退款"),
                        ],
                        default="pending",
                        help_text="Status of the payment",
                        max_length=20,
                        verbose_name="支付状态",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="Created At",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Other Payment",
                "verbose_name_plural": "historical Other Payments",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalPurchasing",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "uuid",
                    models.CharField(
                        db_index=True,
                        default=apps.data_aggregation.models.generate_uuid,
                        help_text="48-character globally unique identifier",
                        max_length=59,
                        verbose_name="UUID",
                    ),
                ),
                (
                    "order_number",
                    models.CharField(
                        blank=True,
                        help_text="Purchase order number",
                        max_length=50,
                        null=True,
                        verbose_name="订单号",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Order creation time",
                        verbose_name="创建时间",
                    ),
                ),
                (
                    "confirmed_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Order confirmation time",
                        null=True,
                        verbose_name="认可时间",
                    ),
                ),
                (
                    "shipped_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Shipment time",
                        null=True,
                        verbose_name="发送时间",
                    ),
                ),
                (
                    "estimated_website_arrival_date",
                    models.DateField(
                        blank=True,
                        help_text="Estimated arrival date from website",
                        null=True,
                        verbose_name="官网到达预计时间",
                    ),
                ),
                (
                    "tracking_number",
                    models.CharField(
                        blank=True,
                        help_text="Shipping tracking number",
                        max_length=50,
                        verbose_name="邮寄单号",
                    ),
                ),
                (
                    "estimated_delivery_date",
                    models.DateField(
                        blank=True,
                        help_text="Estimated delivery date",
                        null=True,
                        verbose_name="邮寄送达预计时间",
                    ),
                ),
                (
                    "delivery_status",
                    models.CharField(
                        choices=[
                            ("pending_confirmation", "等待确认"),
                            ("shipped", "已发送"),
                            ("in_delivery", "配送中"),
                            ("delivered", "已送达"),
                        ],
                        default="pending_confirmation",
                        help_text="Delivery status",
                        max_length=30,
                        verbose_name="送达状态",
                    ),
                ),
                (
                    "last_info_updated_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Last information update time",
                        null=True,
                        verbose_name="最后信息更新时间",
                    ),
                ),
                (
                    "account_used",
                    models.CharField(
                        blank=True,
                        help_text="Account used for purchase",
                        max_length=50,
                        verbose_name="使用账号",
                    ),
                ),
                (
                    "payment_method",
                    models.TextField(
                        blank=True,
                        help_text="Payment method used or unmatched payment cards info",
                        verbose_name="使用付款方式",
                    ),
                ),
                (
                    "updated_at",
                    models.DateTimeField(
                        blank=True, editable=False, verbose_name="Updated At"
                    ),
                ),
                (
                    "is_locked",
                    models.BooleanField(
                        default=False,
                        help_text="Whether this record is locked by a worker",
                        verbose_name="Is Locked",
                    ),
                ),
                (
                    "locked_at",
                    models.DateTimeField(
                        blank=True,
                        help_text="Timestamp when the record was locked",
                        null=True,
                        verbose_name="Locked At",
                    ),
                ),
                (
                    "locked_by_worker",
                    models.CharField(
                        blank=True,
                        help_text="Name of the worker that locked this record",
                        max_length=50,
                        verbose_name="Locked By Worker",
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Purchasing Order",
                "verbose_name_plural": "historical Purchasing Orders",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name="HistoricalTemporaryChannel",
            fields=[
                (
                    "id",
                    models.BigIntegerField(
                        auto_created=True, blank=True, db_index=True, verbose_name="ID"
                    ),
                ),
                (
                    "change_source",
                    models.CharField(
                        choices=[
                            ("admin", "Admin 管理后台"),
                            ("api", "REST API"),
                            ("celery", "Celery 异步任务"),
                            ("sync", "Nextcloud 同步"),
                            ("shell", "Django Shell/脚本"),
                            ("onlyoffice_import", "OnlyOffice 导入"),
                            ("unknown", "未知来源"),
                        ],
                        default="unknown",
                        help_text="Source of the modification",
                        max_length=20,
                        verbose_name="修改来源",
                    ),
                ),
                (
                    "created_time",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Record creation time",
                        verbose_name="创建时间",
                    ),
                ),
                (
                    "expected_time",
                    models.DateTimeField(
                        help_text="Expected arrival time", verbose_name="入库预计时间"
                    ),
                ),
                (
                    "record",
                    models.CharField(
                        help_text="Record information",
                        max_length=255,
                        verbose_name="记录",
                    ),
                ),
                (
                    "last_updated",
                    models.DateTimeField(
                        blank=True,
                        editable=False,
                        help_text="Last update time",
                        verbose_name="最后更新时间",
                    ),
                ),
                (
                    "is_deleted",
                    models.BooleanField(
                        default=False,
                        help_text="Soft delete flag",
                        verbose_name="Is Deleted",
                    ),
                ),
                ("history_id", models.AutoField(primary_key=True, serialize=False)),
                ("history_date", models.DateTimeField(db_index=True)),
                ("history_change_reason", models.CharField(max_length=100, null=True)),
                (
                    "history_type",
                    models.CharField(
                        choices=[("+", "Created"), ("~", "Changed"), ("-", "Deleted")],
                        max_length=1,
                    ),
                ),
            ],
            options={
                "verbose_name": "historical Temporary Channel",
                "verbose_name_plural": "historical Temporary Channels",
                "ordering": ("-history_date", "-history_id"),
                "get_latest_by": ("history_date", "history_id"),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.RenameIndex(
            model_name="giftcardpayment",
            new_name="gift_card_p_payment_e5ec43_idx",
            old_name="gift_card_p_payment_b6e8e5_idx",
        ),
        migrations.RenameIndex(
            model_name="giftcardpayment",
            new_name="gift_card_p_payment_5d407a_idx",
            old_name="gift_card_p_payment_5a1c0f_idx",
        ),
        migrations.RenameIndex(
            model_name="otherpayment",
            new_name="other_payme_payment_8c5ad2_idx",
            old_name="other_payme_payment_3f8e2b_idx",
        ),
        migrations.RenameIndex(
            model_name="otherpayment",
            new_name="other_payme_payment_461790_idx",
            old_name="other_payme_payment_8c7d4a_idx",
        ),
        migrations.RenameIndex(
            model_name="purchasing",
            new_name="purchasing_is_lock_ce995e_idx",
            old_name="purchasing_is_lock_idx",
        ),
        migrations.AddField(
            model_name="creditcard",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="creditcardpayment",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="debitcard",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="debitcardpayment",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="ecsite",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="giftcard",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="giftcardpayment",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="inventory",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="ipad",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="iphone",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="legalpersonoffline",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="officialaccount",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="purchasing",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="temporarychannel",
            name="is_deleted",
            field=models.BooleanField(
                default=False, help_text="Soft delete flag", verbose_name="Is Deleted"
            ),
        ),
        migrations.AddField(
            model_name="historicalaggregateddata",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalaggregateddata",
            name="source",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.aggregationsource",
            ),
        ),
        migrations.AddField(
            model_name="historicalaggregationsource",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalaggregationtask",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalaggregationtask",
            name="source",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.aggregationsource",
            ),
        ),
        migrations.AddField(
            model_name="historicalcreditcard",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalcreditcardpayment",
            name="credit_card",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Credit card used for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.creditcard",
                verbose_name="Credit Card",
            ),
        ),
        migrations.AddField(
            model_name="historicalcreditcardpayment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalcreditcardpayment",
            name="purchasing",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchasing order for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.purchasing",
                verbose_name="Purchasing Order",
            ),
        ),
        migrations.AddIndex(
            model_name="historicaldata",
            index=models.Index(fields=["model"], name="historical__model_418668_idx"),
        ),
        migrations.AddIndex(
            model_name="historicaldata",
            index=models.Index(fields=["slug"], name="historical__slug_270d2d_idx"),
        ),
        migrations.AddIndex(
            model_name="historicaldata",
            index=models.Index(
                fields=["model", "slug"], name="historical__model_e1e569_idx"
            ),
        ),
        migrations.AddIndex(
            model_name="historicaldata",
            index=models.Index(
                fields=["-created_at"], name="historical__created_7372ce_idx"
            ),
        ),
        migrations.AddField(
            model_name="historicaldebitcard",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaldebitcardpayment",
            name="debit_card",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Debit card used for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.debitcard",
                verbose_name="Debit Card",
            ),
        ),
        migrations.AddField(
            model_name="historicaldebitcardpayment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaldebitcardpayment",
            name="purchasing",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchasing order for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.purchasing",
                verbose_name="Purchasing Order",
            ),
        ),
        migrations.AddField(
            model_name="historicalecsite",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalgiftcard",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalgiftcardpayment",
            name="gift_card",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Gift card used for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.giftcard",
                verbose_name="Gift Card",
            ),
        ),
        migrations.AddField(
            model_name="historicalgiftcardpayment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalgiftcardpayment",
            name="purchasing",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchasing order for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.purchasing",
                verbose_name="Purchasing Order",
            ),
        ),
        migrations.AddField(
            model_name="historicalhistoricaldata",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="ipad",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.ipad",
                verbose_name="iPad Product",
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="iphone",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.iphone",
                verbose_name="iPhone Product",
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="source1",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchase source 1 - EC Site",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.ecsite",
                verbose_name="Source 1 (EC Site)",
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="source2",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchasing order associated with this inventory item",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.purchasing",
                verbose_name="Source 2 (Purchasing)",
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="source3",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Legal person offline purchase source",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.legalpersonoffline",
                verbose_name="Source 3 - Legal Person Offline",
            ),
        ),
        migrations.AddField(
            model_name="historicalinventory",
            name="source4",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Temporary channel purchase source",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.temporarychannel",
                verbose_name="Source 4 - Temporary Channel",
            ),
        ),
        migrations.AddField(
            model_name="historicalipad",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicaliphone",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicallegalpersonoffline",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalofficialaccount",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalotherpayment",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalotherpayment",
            name="purchasing",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Purchasing order for this payment",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.purchasing",
                verbose_name="Purchasing Order",
            ),
        ),
        migrations.AddField(
            model_name="historicalpurchasing",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
        migrations.AddField(
            model_name="historicalpurchasing",
            name="official_account",
            field=models.ForeignKey(
                blank=True,
                db_constraint=False,
                help_text="Official account associated with this purchasing order",
                null=True,
                on_delete=django.db.models.deletion.DO_NOTHING,
                related_name="+",
                to="data_aggregation.officialaccount",
                verbose_name="Official Account",
            ),
        ),
        migrations.AddField(
            model_name="historicaltemporarychannel",
            name="history_user",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="+",
                to=settings.AUTH_USER_MODEL,
            ),
        ),
    ]
