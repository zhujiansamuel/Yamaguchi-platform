# =====================================
# Docker Environment Configuration
# =====================================
# Copy this file to .env and fill in your values

# Django Settings
SECRET_KEY=change-this-to-a-random-secret-key-in-production
DEBUG=False
ALLOWED_HOSTS=data.yamaguchi.lan,localhost,127.0.0.1

# Database (PostgreSQL)
DB_NAME=data_platform
DB_USER=postgres
DB_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
DB_HOST=postgres
DB_PORT=5432

# Redis
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_DB_AGGREGATION=0
REDIS_DB_ACQUISITION=1

# Celery
CELERY_BROKER_URL=redis://:${REDIS_PASSWORD}@redis:6379/0
CELERY_RESULT_BACKEND=redis://:${REDIS_PASSWORD}@redis:6379/0

# Timezone
TIMEZONE=Asia/Tokyo

# Nextcloud WebDAV Configuration
# Format: http://container-name/remote.php/dav/files/{username}/
# Use 'nextcloud-web' (nginx) instead of 'nextcloud-app' (php-fpm)
# Since Django and Nextcloud are in same Docker network, use container name
NEXTCLOUD_WEBDAV_URL=http://nextcloud-web/remote.php/dav/files/admin/
NEXTCLOUD_USERNAME=admin
NEXTCLOUD_PASSWORD=your-nextcloud-admin-password

# WebDAV connection timeout (seconds)
NEXTCLOUD_TIMEOUT=30

# Nextcloud Webhook Token (for webhook authentication)
# Generate: python -c "import secrets; print(secrets.token_urlsafe(32))"
NEXTCLOUD_WEBHOOK_TOKEN=CHANGE_THIS_TO_SECURE_RANDOM_TOKEN

# Flower (Celery Monitoring)
FLOWER_USER=admin
FLOWER_PASSWORD=CHANGE_THIS_FLOWER_PASSWORD

# SSL Certificate Directory
# Point to directory containing cert.pem and key.pem
SSL_CERT_DIR=./docker/certs

# Django Admin
# Create superuser with: docker-compose exec django python manage.py createsuperuser
DJANGO_SUPERUSER_USERNAME=admin
DJANGO_SUPERUSER_EMAIL=admin@yamaguchi.lan
DJANGO_SUPERUSER_PASSWORD=CHANGE_THIS_ADMIN_PASSWORD
